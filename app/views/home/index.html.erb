<div
  ng-app="Flightmap"
  ng-controller="MainCtrl"
  layout="column"
  class="full-height"
  ng-cloak
>
  <section layout="row" flex>
<%################################################################### SIDEBAR %>
    <md-sidenav
        id="sidebar"
        class="md-sidenav-left"
        md-component-id="nav"
        md-is-locked-open="$mdMedia('gt-md')"
        md-disable-backdrop
        md-whiteframe="4"
    >
<%################################################################### TOOLBAR %>
      <md-toolbar ng-controller="DialogCtrl" class="md-hue-2">
        <div class="md-toolbar-tools">
          <md-button class="md-icon-button" aria-label="Settings" ng-disabled="true">
            <md-icon md-svg-icon="<%= image_path('ic_flight_white_36px.svg') %>"></md-icon>
          </md-button>
          <h1>
            <span>Flightmap</span>
          </h1>
          <span flex></span>
          <md-button class="md-icon-button" aria-label="Favorite" ng-click="openDialog()">
            <md-icon md-svg-icon="<%= image_path('ic_info_outline_white_36px.svg') %>"></md-icon>
          </md-button>
        </div>
      </md-toolbar>
<%################################################################### OPTIONS %>
<%########################################################## OPTIONS/LOCATION %>
      <div class="input-container">
        <span>Mjesto polaska:</span>
        <input
          id="departure-location"
          type="text"
          placeholder="zračna luka, grad, država"
          ng-model="selectedDepartureLocation"
          >
      </div>
<%############################################################ OPTIONS/BUDGET %>
      <md-input-container class="slider-container">
        <span>Budžet: </span>
        <div range-slider
          min="0" max="10000"
          model-min="budget.min"
          model-max="budget.max">
        </div>
        {{ budget.min }}
        {{ budget.max }}
      </md-input-container>
<%############################################ OPTIONS/PERSON COUNT, CURRENCY %>
      <div class="input-dual">
        <div class="input-dual-inner">
          <span>Broj osoba:</span>
          <input
            type="number"
            onchange="limitPersonCount(this)"
            ng-model="selectedPersonCount"
            value="1"
            >
        </div>
        <div class="input-dual-inner">
          <span>Valuta:</span>
          <select ng-model="selectedCurrency">
            <option ng-repeat="currency in availableCurrencies">{{ currency }}</option>
          </select>
        </div>
      </div>
<%############################################################## OPTIONS/DATE %>
      <div class="input-dual">
        <div class="input-dual-inner">
          <span>Datum polaska:</span>
          <select ng-model="selectedYear" ng-options="year as year for year in years">
          </select>
        </div>
        <div class="input-dual-inner">
          <span style="opacity: 0; cursor: default">.</span>
          <select ng-model='selectedMonth' ng-options='month as month.name for month in months'>
          </select>
        </div>
      </div>
<%################################################### OPTIONS/FLIGHT DURATION %>
      <md-input-container class="slider-container">
        <span>Trajanje putovanja:</span>
        <div range-slider
          min="0" max="30"
          model-min="flightDuration.min"
          model-max="flightDuration.max">
        </div>
        {{ flightDuration.min }}
        {{ flightDuration.max }}
      </md-input-container>
<%############################################################## END SIDEBAR  %>
    </md-sidenav>
<%################################################################### CONTENT %>
    <md-content
      id="main-content"
      flex
      layout-padding
    >
      <div ng-controller="DataOutput" style="padding: 0">
        <%# {{ matchingData }}  %>

        <script type="text/javascript">
          jQuery(document).ready(function() {
            jQuery('#vmap').vectorMap({
              map: 'world_en',
              backgroundColor: null,
              borderColor: '#818181',
              borderOpacity: 0.25,
              borderWidth: 1,
              color: 'rgb(225, 236, 235)',
              enableZoom: true,
              hoverColor: 'rgb(73, 132, 186)',
              hoverOpacity: null,
              normalizeFunction: 'linear',
              scaleColors: ['#b6d6ff', '#005ace'],
              selectedColor: 'rgb(59, 84, 212)',
              selectedRegions: null,
              showTooltip: true,
             });
          });
        </script>

        <div id="vmap"></div>

      </div>
    </md-content>
<%##########################################################################  %>
  </section>
</div>
